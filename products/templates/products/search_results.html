{% extends "base_main.html" %}
{% load static %}
{% load products_tags %}
{% block main %}
  <div class="ui massive centered header">Search Results for "{{ request.GET.q }}"</div>
      <div class="ui top attached tabular menu">
        {% if products %}
        <a href="?{% change_params tab='products' %}" class="{% if request.GET.tab != 'categories' %}active{% endif %} item" data-tab="products">Products</a>
        {% endif %}
        {% if categories %}
        <a href="?{% change_params tab='categories' %}" class="{% if request.GET.tab == 'categories' or not products %}active{% endif %} item" data-tab="categories">Categories</a>
        {% endif %}
      </div>
      {% if products %}
      <div class="ui bottom attached {% if request.GET.tab != 'categories' %}active{% endif %} tab segment" data-tab="products">
                {% include "products/components/_product_list.html" %}
            </div>
        {% endif %}
        {% if categories %}
                <div class="ui bottom attached {% if request.GET.tab == 'categories' or not products %}active{% endif %} tab segment" data-tab="categories">
                {% include "products/components/_category_list.html" %}
            </div>
        {% endif %}
    {% if not categories and not products %}
        <p>No products found for your query.</p>
    {% endif %}
{% endblock %}
{% block additional_script %}
<script src = '{% static "js/endless_list.js" %}' ></script>
{% comment %} <script src = '{% static "js/toggle_tabs.js" %}' ></script> {% endcomment %}
{% endblock additional_script %}
