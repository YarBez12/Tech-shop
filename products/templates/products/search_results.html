{% extends "base_main.html" %}
{% load static %}
{% load products_tags %}
{% block main %}
  <div class="ui massive centered header">Search Results for "{{ request.GET.q }}"</div>
      <div class="ui top attached tabular menu">
        {% if products %}
        <a href="#" class="{% if saved_ui_state.tab != 'categories' %}active{% endif %} item" data-tab="products" data-url="{% url 'products:save_tab' 'search_results' %}">Products</a>
        {% endif %}
        {% if categories %}
        <a href="#" class="{% if saved_ui_state.tab == 'categories' or not products %}active{% endif %} item" data-tab="categories" data-url="{% url 'products:save_tab' 'search_results'%}">Categories</a>
        {% endif %}
      </div>
      {% if products %}
      <div class="ui bottom attached {% if saved_ui_state.tab != 'categories' %}active{% endif %} tab segment" data-tab="products">
                {% include "products/components/_product_list.html" %}
            </div>
        {% endif %}
        {% if categories %}
                <div class="ui bottom attached {% if saved_ui_state.tab == 'categories' or not products %}active{% endif %} tab segment" data-tab="categories">
                {% include "products/components/_category_list.html" %}
            </div>
        {% endif %}
    {% if not categories and not products %}
        <p>No products found for your query.</p>
    {% endif %}
{% endblock %}
{% block additional_script %}
<script src = '{% static "js/endless_list.js" %}' ></script>
<script src = '{% static "js/sort.js" %}' ></script>
<script src = '{% static "js/tabs.js" %}' ></script>
{% comment %} <script src = '{% static "js/toggle_tabs.js" %}' ></script> {% endcomment %}
{% endblock additional_script %}
